<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Debian installation remove cd-rom apt source</title>
    <url>/2024/06/13/Debian-installation-remove-cd-rom-apt-source/</url>
    <content><![CDATA[<p>A local CD can act as an APT repository, just as if it were a distant server. This feature is incredibly useful when you are installing Debian on systems without a fast internet connection or when you need to install packages from localized media. However, once the installation is done or if you prefer using online repositories, you might want to disable the CD-ROM source to avoid any unnecessary prompts. </p>
<p>If you don’t want <code>apt-get</code> to search the CD, you can achieve this easily by editing the <code>/etc/apt/sources.list</code> file. Here’s how to do it:</p>
<h2 id="Steps-to-Remove-CD-ROM-apt-Source"><a href="#Steps-to-Remove-CD-ROM-apt-Source" class="headerlink" title="Steps to Remove CD-ROM apt Source"></a>Steps to Remove CD-ROM apt Source</h2><ol>
<li><strong>Open the <code>/etc/apt/sources.list</code> file</strong>:<br>  To edit the file, you need administrative privileges. You can use <code>nano</code> or any other text editor you prefer. If you’re using <code>nano</code>, the command would look like this:</li>
</ol>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> nano /etc/apt/sources.list</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><strong>Find the CD-ROM source line</strong>:<br>  Look for the line that specifies the CD-ROM as a source. It will look something like this:</li>
</ol>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">deb cdrom:[deb95amd64d1]/ stretch contrib main</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><strong>Comment out the CD-ROM source line</strong>:<br>  To disable this source, simply comment out the line by adding a <code>#</code> at the beginning of it. The result should look like this:</li>
</ol>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># deb cdrom:[deb95amd64d1]/ stretch contrib main</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li><p><strong>Save and close the file</strong>:<br>  In <code>nano</code>, you can do this by pressing <code>CTRL+X</code>, then <code>Y</code> to confirm the changes, and <code>Enter</code> to exit.</p>
</li>
<li><p><strong>Update your package list</strong>:<br>  After making these changes, ensure your package list is up to date by running:</p>
</li>
</ol>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get update</span><br></pre></td></tr></table></figure>

<p>By following these steps, you instruct <code>apt-get</code> to ignore the CD-ROM as a source, relying instead on your other sources for package installations and updates.</p>
<p>Whether you’re managing package sources or ensuring your applications are running smoothly, Debian and its tools offer robust solutions for both tasks.</p>
<p>Taking care of your system’s configurations thoughtfully can save a lot of time and hassle.</p>
]]></content>
      <tags>
        <tag>debian</tag>
      </tags>
  </entry>
  <entry>
    <title>Check PCIe lane with lspci</title>
    <url>/2024/07/11/Check-PCIe-lane-with-lspci/</url>
    <content><![CDATA[<p>When managing servers or desktops, knowing the details of your PCIe configuration can be very beneficial. This information is essential for troubleshooting hardware issues, upgrading components, or optimizing performance. One of the most powerful tools for examining PCIe details on Debian-based systems is <code>lspci</code>.</p>
<p>In this blog post, we’ll show you a quick command to check the PCIe lane configuration using <code>lspci</code>.</p>
<h2 id="Using-lspci-to-Check-PCIe-Lanes"><a href="#Using-lspci-to-Check-PCIe-Lanes" class="headerlink" title="Using lspci to Check PCIe Lanes"></a>Using lspci to Check PCIe Lanes</h2><p>The <code>lspci</code> command is a standard utility to list all PCI devices on your system. However, to get detailed information about PCIe lanes, you’ll need to use it with certain options and grep for specific fields.</p>
<p>Here’s the command you need:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">lspci -vv | grep -P <span class="string">&quot;[0-9a-f]&#123;2&#125;:[0-9a-f]&#123;2&#125;\.[0-9a-f]|LnkSta:&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Breaking-Down-the-Command"><a href="#Breaking-Down-the-Command" class="headerlink" title="Breaking Down the Command"></a>Breaking Down the Command</h3><ul>
<li><p><strong><code>lspci -vv</code></strong>: The <code>-vv</code> option tells <code>lspci</code> to be very verbose, providing detailed information about each PCI device.</p>
</li>
<li><p><strong><code>grep -P &quot;[0-9a-f]&#123;2&#125;:[0-9a-f]&#123;2&#125;\.[0-9a-f]|LnkSta:&quot;</code></strong>: This grep command uses a Perl-compatible regular expression. It searches for:</p>
<ul>
<li><strong><code>[0-9a-f]&#123;2&#125;:[0-9a-f]&#123;2&#125;\.[0-9a-f]</code></strong>: This part matches the PCI address.</li>
<li><strong><code>LnkSta:</code></strong>: This part searches for the link status, which includes the current PCIe lane configuration.</li>
</ul>
</li>
</ul>
<h3 id="Example-Output"><a href="#Example-Output" class="headerlink" title="Example Output"></a>Example Output</h3><p>Running this command, you might see output similar to the following:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">00:1c.0 PCI bridge: Intel Corporation 82801 Mobile PCI Bridge (rev f2)</span><br><span class="line">        LnkSta: Speed 2.5GT/s, Width x1</span><br><span class="line">01:00.0 VGA compatible controller: NVIDIA Corporation GP107GL [Quadro P400] (rev a1)</span><br><span class="line">        LnkSta: Speed 8GT/s, Width x16</span><br></pre></td></tr></table></figure>

<p>In the example above:</p>
<ul>
<li>The PCI bridge at address <code>00:1c.0</code> operates at 2.5GT&#x2F;s (Giga-transfers per second) and uses 1 lane.</li>
<li>The NVIDIA Quadro P400 at address <code>01:00.0</code> operates at 8GT&#x2F;s and uses 16 lanes.</li>
</ul>
<h2 id="Why-Is-This-Information-Important"><a href="#Why-Is-This-Information-Important" class="headerlink" title="Why Is This Information Important?"></a>Why Is This Information Important?</h2><p>Understanding the PCIe lane configuration is crucial for several reasons:</p>
<ol>
<li><p><strong>Performance Optimization</strong>: Ensuring that high-performance devices, like GPUs, are connected via the correct number of PCIe lanes can significantly impact performance.</p>
</li>
<li><p><strong>Troubleshooting</strong>: Sometimes, hardware issues might be related to improper PCIe configurations or limitations.</p>
</li>
<li><p><strong>Upgrading Hardware</strong>: Knowing your system’s current PCIe configuration can help determine compatibility with new components.</p>
</li>
</ol>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Checking your PCIe lane configuration is a straightforward process with the <code>lspci</code> command. This information can be pivotal for optimizing performance, troubleshooting, and general hardware management. </p>
<p>If you have any further questions or if there’s a specific task you need help with, feel free to ask in the comments below. Happy computing, and may your system always run smoothly!</p>
]]></content>
      <tags>
        <tag>debian</tag>
        <tag>server</tag>
      </tags>
  </entry>
  <entry>
    <title>How to Use Auto-Editor to Automatically Remove Silences in Video Clips for Final Cut Pro(FCP)</title>
    <url>/2024/07/15/How-to-Use-Auto-Editor-to-Automatically-Remove-Silences-in-Video-Clips-for-Final-Cut-Pro-FCP/</url>
    <content><![CDATA[<p>Video editing can be a time-consuming process, especially when you need to trim out long pauses or silences manually. However, there’s a powerful tool called <strong><a href="https://github.com/WyattBlue/auto-editor">Auto-Editor</a></strong> that can automate the process for you. In this blog post, we’ll walk you through the steps to use Auto-Editor to automatically remove silences in your video clips, making your editing workflow faster and more efficient.</p>
<h2 id="What-is-Auto-Editor"><a href="#What-is-Auto-Editor" class="headerlink" title="What is Auto-Editor?"></a>What is Auto-Editor?</h2><p>Auto-Editor is an open-source software that automatically edits video and audio by analyzing the content to detect and remove silences, stutters, and long pauses. It significantly speeds up the editing process, especially for vloggers, podcasters, and streamers who frequently need to clean up raw footage.</p>
<h3 id="Key-Features-of-Auto-Editor"><a href="#Key-Features-of-Auto-Editor" class="headerlink" title="Key Features of Auto-Editor"></a>Key Features of Auto-Editor</h3><ul>
<li>Automatically removes silences</li>
<li>Supports various export formats, including Final Cut Pro, Premiere Pro, and standard video files</li>
<li>Offers a range of customization options, such as margins and custom thresholds for silence detection</li>
</ul>
<h2 id="Installing-Auto-Editor"><a href="#Installing-Auto-Editor" class="headerlink" title="Installing Auto-Editor"></a>Installing Auto-Editor</h2><p>Before we get started, you need to have Auto-Editor installed on your system. Follow these steps to install it:</p>
<h3 id="Step-1-Install-Python"><a href="#Step-1-Install-Python" class="headerlink" title="Step 1: Install Python"></a>Step 1: Install Python</h3><p>Auto-Editor is a Python package, so ensure you have Python installed on your machine. You can download and install Python from the <a href="https://www.python.org/downloads/">official website</a>.</p>
<h3 id="Step-2-Install-Auto-Editor"><a href="#Step-2-Install-Auto-Editor" class="headerlink" title="Step 2: Install Auto-Editor"></a>Step 2: Install Auto-Editor</h3><p>You can install Auto-Editor via pip, the package installer for Python. Open your terminal or command prompt and run the following command:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install auto-editor</span><br></pre></td></tr></table></figure>

<h2 id="Removing-Silences-with-Auto-Editor"><a href="#Removing-Silences-with-Auto-Editor" class="headerlink" title="Removing Silences with Auto-Editor"></a>Removing Silences with Auto-Editor</h2><p>Now that we have Auto-Editor installed, let’s dive into an example to remove silences from a video clip.</p>
<h3 id="Sample-Command-Basic-Usage"><a href="#Sample-Command-Basic-Usage" class="headerlink" title="Sample Command: Basic Usage"></a>Sample Command: Basic Usage</h3><p>Here’s a basic command to remove silences from a video named <code>example.mp4</code>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">auto-editor example.mp4 --margin 0.2sec --<span class="built_in">export</span> final-cut-pro</span><br></pre></td></tr></table></figure>

<h3 id="Breaking-Down-the-Command"><a href="#Breaking-Down-the-Command" class="headerlink" title="Breaking Down the Command"></a>Breaking Down the Command</h3><ul>
<li><strong>example.mp4</strong>: The input video file.</li>
<li><strong>–margin 0.2sec</strong>: Adds a 0.2-second margin before and after detected audio. This helps in maintaining a smooth transition between audio segments.</li>
<li><strong>–export final-cut-pro</strong>: Specifies the export format. Here, it’s set to Final Cut Pro, but you can choose from other available formats such as <code>premiere</code>, <code>resolve</code>, or standard video formats like <code>mp4</code>.</li>
</ul>
<h3 id="Step-by-Step-Guide"><a href="#Step-by-Step-Guide" class="headerlink" title="Step-by-Step Guide"></a>Step-by-Step Guide</h3><ol>
<li><strong>Open Your Terminal&#x2F;Command Prompt</strong>: Ensure you are in the directory containing your video file (<code>example.mp4</code>).</li>
<li><strong>Run the Command</strong>: Type the sample command and hit Enter. Auto-Editor will process the video, detect the silences, and remove them based on the margin you specified.</li>
<li><strong>Check the Output</strong>: The edited video will be saved in the specified format (in this case, <code>example.fcpxml</code> for Final Cut Pro).</li>
</ol>
<h3 id="Customizing-Auto-Editor"><a href="#Customizing-Auto-Editor" class="headerlink" title="Customizing Auto-Editor"></a>Customizing Auto-Editor</h3><p>Auto-Editor provides several other useful options for more tailored editing. Here are a few:</p>
<ul>
<li><strong>–silent-threshold</strong>: Sets the decibel level for what should be considered silence. For example: <code>--silent-threshold -40dB</code>.</li>
<li><strong>–video-speed</strong>: Speed up non-silent parts of the video. For example: <code>--video-speed 1.25</code>.</li>
<li><strong>–frame-margin</strong>: Adds extra frames before and after detected audio. For example: <code>--frame-margin 5</code>.</li>
</ul>
<h2 id="Example-Advanced-Usage"><a href="#Example-Advanced-Usage" class="headerlink" title="Example: Advanced Usage"></a>Example: Advanced Usage</h2><p>Let’s say you have a video clip (<code>interview.mp4</code>) that you want to edit. You want to remove silences, add a 5-frame margin, consider anything quieter than -45dB as silence, and speed up non-silent parts to 1.5x the normal speed.</p>
<p>Your command will look like this:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">auto-editor interview.mp4 --silent-threshold -45dB --margin 0.3sec --video-speed 1.5 --frame-margin 5 --<span class="built_in">export</span> premiere</span><br></pre></td></tr></table></figure>

<h3 id="Explanation"><a href="#Explanation" class="headerlink" title="Explanation"></a>Explanation</h3><ul>
<li><strong>–silent-threshold -45dB</strong>: More stringent threshold for detecting silence.</li>
<li><strong>–margin 0.3sec</strong>: Slightly larger audio margin to ensure smooth transitions.</li>
<li><strong>–video-speed 1.5</strong>: Speed up the retained content to 1.5x.</li>
<li><strong>–frame-margin 5</strong>: Adds 5 extra frames before and after audio segments.</li>
<li><strong>–export premiere</strong>: Exports the result in a format compatible with Adobe Premiere Pro.</li>
</ul>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Auto-Editor offers a quick and efficient way to clean up your video and audio files by automatically removing silences and unwanted pauses. Whether you’re a content creator looking to streamline your editing process or a professional editor aiming to save time, Auto-Editor can be a valuable addition to your toolkit.</p>
<p>Feel free to experiment with different settings and find what works best for your needs. If you have any questions or insights, drop them in the comments below!</p>
]]></content>
      <tags>
        <tag>video editing</tag>
        <tag>auto-editor</tag>
        <tag>tutorial</tag>
      </tags>
  </entry>
  <entry>
    <title>Intel NUC12 1240P 10TB (4*SSD) Super HomeLab Build</title>
    <url>/2024/05/13/Intel-NUC12-1240P-10TB-4-SSD-Super-HomeLab-Build/</url>
    <content><![CDATA[<p>I’m excited to share my recent project of building an ultra-compact, all-SSD HomeLab with the incredible Intel NUC12. Below, I will walk you through the specifications and the detailed process of creating this monster build.</p>
<p><img src="/2024/05/13/Intel-NUC12-1240P-10TB-4-SSD-Super-HomeLab-Build/8tb-3xssd-pve-homelab-setup-nuc-12-nuc12wski5-wall-street-v0-edvkkkp9x83d1.jpg" alt="NUC12 HomeLab Setup"></p>
<h2 id="Specifications"><a href="#Specifications" class="headerlink" title="Specifications"></a>Specifications</h2><p><strong>Processor:</strong> Intel i5-1240P (12 Cores &#x2F; 16 Threads, Underclock at 18&#x2F;28W)</p>
<p><strong>RAM:</strong> 64GB</p>
<p><strong>Storage:</strong> Total 10TB across four SSDs:</p>
<ul>
<li><strong>Samsung 980Pro 2TB</strong> (Gen 4x4) 2280 NVMe SSD</li>
<li><strong>Solidigm P41 Plus 2TB</strong> (Gen 4x4 Downgraded to Gen 3x1) 2280 NVMe SSD</li>
<li><strong>Sandisk SN740 2TB</strong> (Gen 4x4 Downgraded to Gen 3x1) 2230 NVMe SSD</li>
<li><strong>Samsung 870 EVO 4TB</strong> SATA SSD</li>
</ul>
<h2 id="Installation-Process"><a href="#Installation-Process" class="headerlink" title="Installation Process"></a>Installation Process</h2><h3 id="Step-1-Default-Configuration"><a href="#Step-1-Default-Configuration" class="headerlink" title="Step 1: Default Configuration"></a>Step 1: Default Configuration</h3><p>The Intel NUC12 can naturally accommodate two SSDs: </p>
<ul>
<li><strong>M.2 2280 SSD slot:</strong> Where I installed the <strong>Samsung 980 Pro 2TB</strong>.</li>
<li><strong>SATA SSD slot:</strong> Which houses the <strong>Samsung 870 EVO 4TB</strong>.</li>
</ul>
<p>This setup provided me with 6TB of high-speed storage.</p>
<h3 id="Step-2-Maximizing-Expandability-with-M-2-2242-Slot"><a href="#Step-2-Maximizing-Expandability-with-M-2-2242-Slot" class="headerlink" title="Step 2: Maximizing Expandability with M.2 2242 Slot"></a>Step 2: Maximizing Expandability with M.2 2242 Slot</h3><p>I discovered that the NUC12’s 2242 M.2 slot includes a PCIe Gen3x1 lane. By using a <strong>Key B to Key M converter</strong>, this allowed me to connect a <strong>Sandisk SN740 2TB</strong> as a 2242 form-factor drive.</p>
<p><em>Note: Connecting the <strong>SN740</strong> via <strong>Key B</strong> scales down its speed from Gen4x4 (<del>5000MB&#x2F;s) to Gen3x1 (</del>900MB&#x2F;s).</em></p>
<p><img src="/2024/05/13/Intel-NUC12-1240P-10TB-4-SSD-Super-HomeLab-Build/8tb-3xssd-pve-homelab-setup-nuc-12-nuc12wski5-wall-street-v0-y5zxrkp9x83d1.jpg" alt="SSD Conversion"></p>
<h3 id="Step-3-Utilizing-the-WiFi-Slot"><a href="#Step-3-Utilizing-the-WiFi-Slot" class="headerlink" title="Step 3: Utilizing the WiFi Slot"></a>Step 3: Utilizing the WiFi Slot</h3><p>Since I seldom use the WiFi chip, my HomeLab runs mainly on a 2.5Gbps Ethernet connection. By converting the <strong>Key A+E to Key M</strong> via another converter, I effectively utilized the <strong>WiFi slot’s PCIe Gen3x1 lane</strong>. This connected the <strong>Solidigm P41 2TB SSD</strong> to the WiFi slot via an <strong>FFC cable</strong> routed to the remaining area designated for the SATA drive, providing an additional 2TB at PCIe Gen3x1 (~900MB&#x2F;s).</p>
<p><img src="/2024/05/13/Intel-NUC12-1240P-10TB-4-SSD-Super-HomeLab-Build/13.56.47.png" alt="WiFi Slot SSD"></p>
<h3 id="Step-4-Underclocking-for-Optimal-Performance"><a href="#Step-4-Underclocking-for-Optimal-Performance" class="headerlink" title="Step 4: Underclocking for Optimal Performance"></a>Step 4: Underclocking for Optimal Performance</h3><p>To keep noise and heat in check, I underclocked the Intel i5-1240P CPU to:</p>
<ul>
<li><strong>PL1 &#x3D; 18W</strong></li>
<li><strong>PL2 &#x3D; 28W</strong></li>
</ul>
<p>This adjustment still provides 80% of the CPU’s power potential, which is more than sufficient for my workloads. Additionally, the CPU typically operates below a 10% load, thus maintaining an efficient and quiet environment.</p>
<p><img src="/2024/05/13/Intel-NUC12-1240P-10TB-4-SSD-Super-HomeLab-Build/13.11.45.png" alt="CPU Load Overview"></p>
<h2 id="Enhancing-Capabilities-with-Thunderbolt-4-Ports"><a href="#Enhancing-Capabilities-with-Thunderbolt-4-Ports" class="headerlink" title="Enhancing Capabilities with Thunderbolt 4 Ports"></a>Enhancing Capabilities with Thunderbolt 4 Ports</h2><p>The NUC12 also features <strong>2 Thunderbolt 4 ports</strong>, each offering a 40Gbps link. This provides the flexibility to expand storage further by connecting to external SSD enclosures or HDD RAID setups—potentially accommodating up to <strong>8x10Gbps (Gen3x1) external SSDs</strong> via TB3&#x2F;4 4-bay enclosures.</p>
<p><img src="/2024/05/13/Intel-NUC12-1240P-10TB-4-SSD-Super-HomeLab-Build/14.01.43.png" alt="Thunderbolt 4 Ports"></p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>By fully utilizing the Gen4x4 M.2 slot, SATA slot, Gen3x1 2242 slot, and the Gen3x1 WiFi slot, I successfully installed four SSDs into a single 4x4 NUC12 with ease. This setup provides an impressive 10TB of high-speed storage in a remarkably compact form factor.</p>
<p><img src="/2024/05/13/Intel-NUC12-1240P-10TB-4-SSD-Super-HomeLab-Build/13.21.09.png" alt="Completed HomeLab"></p>
<p>I am thrilled with how compact yet powerful the Intel NUC12 1240P has proven to be for this HomeLab build. It not only meets my storage needs but also leverages advanced features for potential future expansions.</p>
<p>Feel free to share your thoughts or ask questions in the comments below. Happy building!</p>
]]></content>
      <tags>
        <tag>intel</tag>
        <tag>NUC12</tag>
        <tag>HomeLab</tag>
        <tag>SSD</tag>
      </tags>
  </entry>
  <entry>
    <title>Uninstall debian desktop enviorment</title>
    <url>/2024/07/02/Uninstall-debian-desktop-enviorment/</url>
    <content><![CDATA[<p>Have you installed a desktop environment on Debian that you no longer need? Whether you’re looking to free up space or want to use a minimal install without a GUI, this guide will walk you through the steps to uninstall the desktop environment on Debian.</p>
<h2 id="Step-by-Step-Guide-to-Uninstall-Desktop-Environment"><a href="#Step-by-Step-Guide-to-Uninstall-Desktop-Environment" class="headerlink" title="Step-by-Step Guide to Uninstall Desktop Environment"></a>Step-by-Step Guide to Uninstall Desktop Environment</h2><h3 id="1-Check-Packages-Related-to-Desktop-Environment"><a href="#1-Check-Packages-Related-to-Desktop-Environment" class="headerlink" title="1. Check Packages Related to Desktop Environment"></a>1. Check Packages Related to Desktop Environment</h3><p>Firstly, you can identify the packages related to the desktop environment using the following command:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># check package related to desktop</span></span><br><span class="line">tasksel --task-packages desktop</span><br></pre></td></tr></table></figure>
<h3 id="2-Uninstall-the-Desktop-Environment-Packages"><a href="#2-Uninstall-the-Desktop-Environment-Packages" class="headerlink" title="2. Uninstall the Desktop Environment Packages"></a>2. Uninstall the Desktop Environment Packages</h3><p>You can then use apt-get purge to remove all the packages related to the desktop environment. This can be done efficiently by combining the output from the previous command:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt-get purge $(tasksel --task-packages desktop)</span><br></pre></td></tr></table></figure>
<p>Alternatively, you might consider a more comprehensive removal using the following command:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt purge task-desktop hyphen-en-us libglu1-mesa libreoffice-* libu2f-udev mythes-en-us x11-apps x11-session-utils xinit xorg xserver-* desktop-base task-german task-german-desktop totem gedit gedit-common gir1.2-* gnome-* gstreamer* sound-icons speech-dispatcher totem-common xserver-* xfonts-* xwayland gir1.2* gnome-*</span><br></pre></td></tr></table></figure>

<h3 id="3-Autoremove-Unnecessary-Packages"><a href="#3-Autoremove-Unnecessary-Packages" class="headerlink" title="3. Autoremove Unnecessary Packages"></a>3. Autoremove Unnecessary Packages</h3><p>After purging, you should also run apt autoremove –purge to clean up any remaining dependencies that were automatically installed with the desktop environment and are no longer needed:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt autoremove --purge</span><br></pre></td></tr></table></figure>
<p>By following these steps, you can successfully remove the desktop environment from your Debian system, leaving you with a leaner and more minimal setup.</p>
]]></content>
      <tags>
        <tag>debian</tag>
        <tag>server</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows 10 / 11 installation bypass TPM, Ram and Secure Boot Requirements</title>
    <url>/2024/07/02/Windows-10-11-installation-bypass-TPM-Ram-and-Secure-Boot-Requirements/</url>
    <content><![CDATA[<p>Are you looking to install Windows 11 on an older PC that doesn’t meet the official hardware requirements? Don’t worry; there’s a way to bypass the TPM, RAM, and Secure Boot checks during the installation process. Follow the steps below to get Windows 11 up and running on your system.</p>
<h2 id="Step-by-Step-Guide-to-Bypass-Hardware-Requirements"><a href="#Step-by-Step-Guide-to-Bypass-Hardware-Requirements" class="headerlink" title="Step-by-Step Guide to Bypass Hardware Requirements"></a>Step-by-Step Guide to Bypass Hardware Requirements</h2><h3 id="1-Boot-Off-Your-Windows-11-Install-Disk"><a href="#1-Boot-Off-Your-Windows-11-Install-Disk" class="headerlink" title="1. Boot Off Your Windows 11 Install Disk"></a>1. Boot Off Your Windows 11 Install Disk</h3><p>If you don’t already have a Windows 11 installation disk, you can create one by following our guide on <a href="https://www.tomshardware.com/how-to/clean-install-windows-11">how to download Windows 11</a>. Once you have the install disk ready, boot from it. You should see a screen that asks you to choose the language of your install.</p>
<h3 id="2-Launch-Command-Prompt"><a href="#2-Launch-Command-Prompt" class="headerlink" title="2. Launch Command Prompt"></a>2. Launch Command Prompt</h3><p>Once you’re at the language selection screen, press <code>SHIFT + F10</code> to open the Command Prompt.</p>
<h3 id="3-Launch-Registry-Editor"><a href="#3-Launch-Registry-Editor" class="headerlink" title="3. Launch Registry Editor"></a>3. Launch Registry Editor</h3><p>Type <code>regedit</code> into the Command Prompt and hit Enter to launch the Registry Editor.</p>
<h3 id="4-Navigate-to-Setup-Key"><a href="#4-Navigate-to-Setup-Key" class="headerlink" title="4. Navigate to Setup Key"></a>4. Navigate to Setup Key</h3><p>In the Registry Editor, navigate to <code>HKEY_LOCAL_MACHINE\SYSTEM\Setup</code>.</p>
<h3 id="5-Create-a-New-Registry-Key-Named-LabConfig"><a href="#5-Create-a-New-Registry-Key-Named-LabConfig" class="headerlink" title="5. Create a New Registry Key Named LabConfig"></a>5. Create a New Registry Key Named LabConfig</h3><p>Right-click in the right window pane, select New -&gt; Key, and name the new key <code>LabConfig</code>.</p>
<h3 id="6-Create-DWORDs-to-Bypass-TPM-Secure-Boot-and-RAM-Checks"><a href="#6-Create-DWORDs-to-Bypass-TPM-Secure-Boot-and-RAM-Checks" class="headerlink" title="6. Create DWORDs to Bypass TPM, Secure Boot and RAM Checks"></a>6. Create DWORDs to Bypass TPM, Secure Boot and RAM Checks</h3><p>Within the <code>LabConfig</code> key, create the following <code>DWORD 32</code> values and set each to <code>1</code>:</p>
<ul>
<li><code>BypassTPMCheck</code></li>
<li><code>BypassSecureBootCheck</code></li>
<li><code>BypassRAMCheck</code> (if you also want to bypass the RAM requirement)</li>
</ul>
<p>To create a new DWORD value, right-click in the right window pane, select New -&gt; DWORD (32-bit) Value, name the key, then double-click the entry to set it to <code>1</code>.</p>
<p>For a more straightforward solution, you can use the following <code>reg.exe</code> commands to automate this process via the Command Prompt:</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">reg.exe add HKEY_LOCAL_MACHINE\SYSTEM\Setup\LabConfig /v BypassTPMCheck /t REG_DWORD /d <span class="number">1</span> /f</span><br><span class="line">reg.exe add HKEY_LOCAL_MACHINE\SYSTEM\Setup\LabConfig /v BypassSecureBootCheck /t REG_DWORD /d <span class="number">1</span> /f</span><br><span class="line">reg.exe add HKEY_LOCAL_MACHINE\SYSTEM\Setup\LabConfig /v BypassRAMCheck /t REG_DWORD /d <span class="number">1</span> /f</span><br></pre></td></tr></table></figure>
<p>Simply copy and paste these commands into the Command Prompt and hit Enter.</p>
<h3 id="7-Close-Registry-Editor-and-Command-Prompt"><a href="#7-Close-Registry-Editor-and-Command-Prompt" class="headerlink" title="7. Close Registry Editor and Command Prompt"></a>7. Close Registry Editor and Command Prompt</h3><p>Close the Registry Editor and the Command Prompt. You should then be able to proceed with the Windows 11 installation process without encountering any of the hardware requirement checks.</p>
<p>By following these steps, you can bypass the TPM, RAM, and Secure Boot checks and install Windows 11 on your older PC effortlessly.</p>
<p>Happy installing!</p>
]]></content>
      <tags>
        <tag>windows</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows KMS activation</title>
    <url>/2024/07/15/Windows-KMS-activation/</url>
    <content><![CDATA[<h2 id="Basic-Commands-for-KMS-Activation"><a href="#Basic-Commands-for-KMS-Activation" class="headerlink" title="Basic Commands for KMS Activation"></a>Basic Commands for KMS Activation</h2><p>If you’re looking to activate your Windows system using KMS (Key Management Service), you’ll need to use a few essential commands. Below are the basic commands to get you started:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">slmgr /skms YOUR-KMS-SERVER</span><br><span class="line">slmgr /ipk KMS-KEY</span><br><span class="line">slmgr /ato</span><br><span class="line">slmgr /dlv</span><br></pre></td></tr></table></figure>

<h2 id="Command-Breakdown"><a href="#Command-Breakdown" class="headerlink" title="Command Breakdown:"></a>Command Breakdown:</h2><ol>
<li>slmgr &#x2F;skms YOUR-KMS-SERVER: Sets the address of the KMS server.  </li>
<li>slmgr &#x2F;ipk KMS-KEY: Installs the KMS client key.  </li>
<li>slmgr &#x2F;ato: Activates Windows with the specified KMS server.  </li>
<li>slmgr &#x2F;dlv: Displays detailed license information.</li>
</ol>
<h2 id="KMS-Key-Collection"><a href="#KMS-Key-Collection" class="headerlink" title="KMS Key Collection"></a>KMS Key Collection</h2><p>Below is a collection of KMS client product keys for various Windows operating system editions. These keys can be used with the commands above to facilitate activation.</p>
<table>
<thead>
<tr>
<th>Operating system edition</th>
<th>KMS Client Product Key</th>
</tr>
</thead>
<tbody><tr>
<td>Windows Server 2022 Standard</td>
<td>VDYBN-27WPP-V4HQT-9VMD4-VMK7H</td>
</tr>
<tr>
<td>Windows Server 2022 Datacenter</td>
<td>WX4NM-KYWYW-QJJR4-XV3QB-6VM33</td>
</tr>
<tr>
<td>Windows Server 2022 Datacenter: Azure Edition</td>
<td>NTBV8-9K7Q8-V27C6-M2BTV-KHMXV</td>
</tr>
<tr>
<td>Windows Server 2019 Standard</td>
<td>N69G4-B89J2-4G8F4-WWYCC-J464C</td>
</tr>
<tr>
<td>Windows Server 2019 Datacenter</td>
<td>WMDGN-G9PQG-XVVXX-R3X43-63DFG</td>
</tr>
<tr>
<td>Windows Server 2019 Essentials</td>
<td>WVDHN-86M7X-466P6-VHXV7-YY726</td>
</tr>
<tr>
<td>Windows Server 2016 Standard</td>
<td>WC2BQ-8NRM3-FDDYY-2BFGV-KHKQY</td>
</tr>
<tr>
<td>Windows Server 2016 Datacenter</td>
<td>CB7KF-BWN84-R7R2Y-793K2-8XDDG</td>
</tr>
<tr>
<td>Windows Server 2016 Essentials</td>
<td>JCKRF-N37P4-C2D82-9YXRT-4M63B</td>
</tr>
<tr>
<td>Windows Server Standard</td>
<td>N2KJX-J94YW-TQVFB-DG9YT-724CC</td>
</tr>
<tr>
<td>Windows Server Datacenter</td>
<td>6NMRW-2C8FM-D24W7-TQWMY-CWH2D</td>
</tr>
<tr>
<td>Windows 11 Pro</td>
<td>W269N-WFGWX-YVC9B-4J6C9-T83GX</td>
</tr>
<tr>
<td>Windows 10 Pro</td>
<td>W269N-WFGWX-YVC9B-4J6C9-T83GX</td>
</tr>
<tr>
<td>Windows 11 Pro N</td>
<td>MH37W-N47XK-V7XM9-C7227-GCQG9</td>
</tr>
<tr>
<td>Windows 10 Pro N</td>
<td>MH37W-N47XK-V7XM9-C7227-GCQG9</td>
</tr>
<tr>
<td>Windows 11 Pro for Workstations</td>
<td>NRG8B-VKK3Q-CXVCJ-9G2XF-6Q84J</td>
</tr>
<tr>
<td>Windows 10 Pro for Workstations</td>
<td>NRG8B-VKK3Q-CXVCJ-9G2XF-6Q84J</td>
</tr>
<tr>
<td>Windows 11 Pro for Workstations N</td>
<td>9FNHH-K3HBT-3W4TD-6383H-6XYWF</td>
</tr>
<tr>
<td>Windows 10 Pro for Workstations N</td>
<td>9FNHH-K3HBT-3W4TD-6383H-6XYWF</td>
</tr>
<tr>
<td>Windows 11 Pro Education</td>
<td>6TP4R-GNPTD-KYYHQ-7B7DP-J447Y</td>
</tr>
<tr>
<td>Windows 10 Pro Education</td>
<td>6TP4R-GNPTD-KYYHQ-7B7DP-J447Y</td>
</tr>
<tr>
<td>Windows 11 Pro Education N</td>
<td>YVWGF-BXNMC-HTQYQ-CPQ99-66QFC</td>
</tr>
<tr>
<td>Windows 10 Pro Education N</td>
<td>YVWGF-BXNMC-HTQYQ-CPQ99-66QFC</td>
</tr>
<tr>
<td>Windows 11 Education</td>
<td>NW6C2-QMPVW-D7KKK-3GKT6-VCFB2</td>
</tr>
<tr>
<td>Windows 10 Education</td>
<td>NW6C2-QMPVW-D7KKK-3GKT6-VCFB2</td>
</tr>
<tr>
<td>Windows 11 Education N</td>
<td>2WH4N-8QGBV-H22JP-CT43Q-MDWWJ</td>
</tr>
<tr>
<td>Windows 10 Education N</td>
<td>2WH4N-8QGBV-H22JP-CT43Q-MDWWJ</td>
</tr>
<tr>
<td>Windows 11 Enterprise</td>
<td>NPPR9-FWDCX-D2C8J-H872K-2YT43</td>
</tr>
<tr>
<td>Windows 10 Enterprise</td>
<td>NPPR9-FWDCX-D2C8J-H872K-2YT43</td>
</tr>
<tr>
<td>Windows 11 Enterprise N</td>
<td>DPH2V-TTNVB-4X9Q3-TJR4H-KHJW4</td>
</tr>
<tr>
<td>Windows 10 Enterprise N</td>
<td>DPH2V-TTNVB-4X9Q3-TJR4H-KHJW4</td>
</tr>
<tr>
<td>Windows 11 Enterprise G</td>
<td>YYVX9-NTFWV-6MDM3-9PT4T-4M68B</td>
</tr>
<tr>
<td>Windows 10 Enterprise G</td>
<td>YYVX9-NTFWV-6MDM3-9PT4T-4M68B</td>
</tr>
<tr>
<td>Windows 11 Enterprise G N</td>
<td>44RPN-FTY23-9VTTB-MP9BX-T84FV</td>
</tr>
<tr>
<td>Windows 10 Enterprise G N</td>
<td>44RPN-FTY23-9VTTB-MP9BX-T84FV</td>
</tr>
<tr>
<td>Windows 10 Enterprise LTSC 2021</td>
<td>M7XTQ-FN8P6-TTKYV-9D4CC-J462D</td>
</tr>
<tr>
<td>Windows 10 Enterprise LTSC 2019</td>
<td>M7XTQ-FN8P6-TTKYV-9D4CC-J462D</td>
</tr>
<tr>
<td>Windows 10 Enterprise N LTSC 2021</td>
<td>92NFX-8DJQP-P6BBQ-THF9C-7CG2H</td>
</tr>
<tr>
<td>Windows 10 Enterprise N LTSC 2019</td>
<td>92NFX-8DJQP-P6BBQ-THF9C-7CG2H</td>
</tr>
<tr>
<td>Windows 10 Enterprise LTSB 2016</td>
<td>DCPHK-NFMTC-H88MJ-PFHPY-QJ4BJ</td>
</tr>
<tr>
<td>Windows 10 Enterprise N LTSB 2016</td>
<td>QFFDN-GRT3P-VKWWX-X7T3R-8B639</td>
</tr>
<tr>
<td>Windows 10 Enterprise LTSB 2015</td>
<td>WNMTR-4C88C-JK8YV-HQ7T2-76DF9</td>
</tr>
<tr>
<td>Windows 10 Enterprise LTSB N 2015</td>
<td>2F77B-TNFGY-69QQF-B8YKP-D69TJ</td>
</tr>
<tr>
<td>Windows IoT Enterprise LTSC 2021</td>
<td>KBN8V-HFGQ4-MGXVD-347P6-PDQGT</td>
</tr>
</tbody></table>
<p>Source: <a href="https://learn.microsoft.com/en-us/windows-server/get-started/kms-client-activation-keys?tabs=server2016,windows102015,version1803,windows81">Microsoft KMS Client Activation Keys</a></p>
<p>These keys are specifically tailored for use with KMS servers and should not be used for other types of activations. Make sure to replace YOUR-KMS-SERVER and KMS-KEY in the commands with the appropriate server address and key from the list above.</p>
<p>Happy Activating!</p>
]]></content>
      <tags>
        <tag>windows</tag>
        <tag>kms</tag>
        <tag>activation</tag>
      </tags>
  </entry>
  <entry>
    <title>How to Check SSD Temperature in ESXi 8.0</title>
    <url>/2023/10/05/check-SSD-Temperature-in-ESXi8/</url>
    <content><![CDATA[<p>Monitoring the health and temperature of your SSDs is crucial in any high-performance environment, such as a VMware ESXi server. In the latest ESXi 8.0, you can easily check the SSD temperature and SMART data using the <code>esxcli</code> command-line tool. This blog post will guide you through creating a simple shell script to automate this task.</p>
<h2 id="Creating-a-Shell-Script-to-Check-SSD-Temperature"><a href="#Creating-a-Shell-Script-to-Check-SSD-Temperature" class="headerlink" title="Creating a Shell Script to Check SSD Temperature"></a>Creating a Shell Script to Check SSD Temperature</h2><p>To simplify the process, we can create a shell script named <code>temp.sh</code>. This script will fetch and display the temperature of all SSDs connected to your ESXi server.</p>
<h3 id="Step-by-Step-Guide"><a href="#Step-by-Step-Guide" class="headerlink" title="Step-by-Step Guide"></a>Step-by-Step Guide</h3><ol>
<li><p><strong>Create the shell script file</strong>:</p>
<p> Log in to your ESXi server and open a terminal. Then use your favorite text editor (like <code>vi</code>) to create the script file.</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vi /usr/local/bin/temp.sh</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Insert the Script Content</strong>:</p>
<p> Copy and paste the following content into the <code>temp.sh</code> file:</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Get the list of all device UIDs</span></span><br><span class="line">device_list=$(esxcli storage core device list | grep -E <span class="string">&#x27;^t10.|^eui.&#x27;</span> | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Iterate through each device UID and fetch its temperature</span></span><br><span class="line"><span class="keyword">for</span> device <span class="keyword">in</span> <span class="variable">$device_list</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    output=$(esxcli storage core device smart get -d <span class="variable">$device</span>)</span><br><span class="line">    temperature=$(<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$output</span>&quot;</span> | grep <span class="string">&quot;Drive Temperature&quot;</span> | awk <span class="string">&#x27;&#123;print $3&#125;&#x27;</span>)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Drive Temperature for device <span class="variable">$device</span>: <span class="variable">$temperature</span>°C&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Make the Script Executable</strong>:</p>
<p> Change the file permissions to make the script executable.</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">chmod</span> +x /usr/local/bin/temp.sh</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Run the Script</strong>:</p>
<p> Execute the script to display the temperature of each SSD.</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/usr/local/bin/temp.sh</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="Understanding-the-Script"><a href="#Understanding-the-Script" class="headerlink" title="Understanding the Script"></a>Understanding the Script</h3><p><strong>Fetching Device UIDs</strong>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">device_list=$(esxcli storage core device list | grep -E <span class="string">&#x27;^t10.|^eui.&#x27;</span> | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>This line extracts all device UIDs (Universal Identifiers) from the ESXi storage core device list.</p>
<p><strong>Iterating Through Devices</strong>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> device <span class="keyword">in</span> <span class="variable">$device_list</span></span><br><span class="line"><span class="keyword">do</span></span><br></pre></td></tr></table></figure>

<p>This for loop iterates through each device UID.<br><strong>Getting SMART Data</strong>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">output=$(esxcli storage core device smart get -d <span class="variable">$device</span>)</span><br></pre></td></tr></table></figure>

<p>This line fetches the SMART data for each device.<br><strong>Extracting Temperature</strong>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">temperature=$(<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$output</span>&quot;</span> | grep <span class="string">&quot;Drive Temperature&quot;</span> | awk <span class="string">&#x27;&#123;print $3&#125;&#x27;</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Drive Temperature for device <span class="variable">$device</span>: <span class="variable">$temperature</span>°C&quot;</span></span><br></pre></td></tr></table></figure>
<p>These lines extract the drive temperature from the SMART data and print it.</p>
<p><strong>Checking Additional SMART Attributes</strong></p>
<p>In addition to temperature, SMART data provides a wealth of information about the health of your SSDs. To view all SMART attributes for a specific device, use the following command:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">esxcli storage core device smart get -d</span><br></pre></td></tr></table></figure>

<p>This command will display important metrics such as:</p>
<p>• Read Error Rate<br>• Power On Hours<br>• Reallocated Sectors Count<br>• Wear Leveling Count</p>
<p>Conclusion</p>
<p>Keeping track of your SSD’s temperature and overall health is crucial to maintaining the reliability and performance of your VMware ESXi server. By creating and using the temp.sh script, you can quickly and easily monitor these important metrics.</p>
<p>If you have any questions or need further assistance, feel free to ask in the comments below. Don’t forget to share this post if you found it helpful. Stay tuned for more tips and tricks on managing your ESXi environment!</p>
<p>Happy monitoring!</p>
]]></content>
      <tags>
        <tag>esxi</tag>
        <tag>vmware</tag>
        <tag>ssd</tag>
        <tag>smart</tag>
      </tags>
  </entry>
  <entry>
    <title>Node.js WebApp Auto Deployment Using PM2 and GitHub Actions</title>
    <url>/2024/07/13/nodejs-webApp-auto-deploy-using-pm2-and-GitHub-Action/</url>
    <content><![CDATA[<p>Automating the deployment process for your Node.js web application can save you a significant amount of time and effort. By integrating PM2 with GitHub Actions, you can set up a continuous deployment pipeline that ensures your application is always up-to-date. This guide will walk you through the steps to set up your environment and create a seamless deployment workflow.</p>
<h2 id="Step-1-Install-Environment"><a href="#Step-1-Install-Environment" class="headerlink" title="Step 1: Install Environment"></a>Step 1: Install Environment</h2><h3 id="1-Install-Node-js-and-npm"><a href="#1-Install-Node-js-and-npm" class="headerlink" title="1. Install Node.js and npm"></a>1. Install Node.js and npm</h3><p>Ensure you have Node.js and npm installed on your server. You can do this by downloading the installer from the <a href="https://nodejs.org/">official Node.js website</a> or using a package manager.</p>
<h3 id="2-Install-Essential-Tools"><a href="#2-Install-Essential-Tools" class="headerlink" title="2. Install Essential Tools"></a>2. Install Essential Tools</h3><p>Install additional necessary tools like <code>screen</code> and <code>vim</code>. These tools are useful for managing terminal sessions and editing files, respectively.</p>
<h3 id="3-Install-PM2"><a href="#3-Install-PM2" class="headerlink" title="3. Install PM2"></a>3. Install PM2</h3><p>PM2 is a process manager for Node.js applications. You can install it globally using npm:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> npm install -g pm2</span><br></pre></td></tr></table></figure>

<h3 id="4-Allow-Non-Root-User-to-Use-Port-80-optional"><a href="#4-Allow-Non-Root-User-to-Use-Port-80-optional" class="headerlink" title="4. Allow Non-Root User to Use Port 80 (optional)"></a>4. Allow Non-Root User to Use Port 80 (optional)</h3><p>To let a non-root user bind to port 80, you can use libcap2-bin. This step is optional but recommended for running your application on standard HTTP port:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt install libcap2-bin -y</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">setcap</span> <span class="string">&#x27;cap_net_bind_service=+ep&#x27;</span> $(<span class="built_in">which</span> node)</span><br></pre></td></tr></table></figure>

<h2 id="5-Create-GitHub-Self-Hosted-Runner"><a href="#5-Create-GitHub-Self-Hosted-Runner" class="headerlink" title="5. Create GitHub Self-Hosted Runner"></a>5. Create GitHub Self-Hosted Runner</h2><p>Set up a self-hosted runner on GitHub by following the instructions in your repository settings under “Actions”. This runner will be responsible for executing your deployment pipeline.<br>follow <a href="https://docs.github.com/en/actions/hosting-your-own-runners">repo-setting-action-self-host</a></p>
<h2 id="6-Create-GitHub-Action-Workflow-deploy-yml"><a href="#6-Create-GitHub-Action-Workflow-deploy-yml" class="headerlink" title="6. Create GitHub Action Workflow: deploy.yml"></a>6. Create GitHub Action Workflow: deploy.yml</h2><p>Create a GitHub Actions workflow file in your repository under .github&#x2F;workflows&#x2F;deploy.yml:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Node.js</span> <span class="string">CI</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span> [ <span class="string">&quot;main&quot;</span> ]</span><br><span class="line">  <span class="attr">pull_request:</span></span><br><span class="line">    <span class="attr">branches:</span> [ <span class="string">&quot;main&quot;</span> ]</span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">runs-on:</span> [<span class="string">self-hosted</span>, <span class="string">Production</span>]</span><br><span class="line"></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/checkout@v4</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Use</span> <span class="string">Node.js</span> <span class="number">20.</span><span class="string">x</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/setup-node@v2</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">node-version:</span> <span class="number">20.</span><span class="string">x</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">run:</span> <span class="string">npm</span> <span class="string">install</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">run:</span> <span class="string">pm2</span> <span class="string">restart</span> <span class="string">YOUR-WEBAPP-NAME</span></span><br></pre></td></tr></table></figure>

<h2 id="7-setup-pm2-services"><a href="#7-setup-pm2-services" class="headerlink" title="7. setup pm2 services"></a>7. setup pm2 services</h2><p>Start your Node.js application with PM2. For example, if your entry file is server.js:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pm2 start server.js --name YOUR-WEBAPP-NAME --time</span><br></pre></td></tr></table></figure>

<h2 id="Verify-and-Monitor-Your-Application"><a href="#Verify-and-Monitor-Your-Application" class="headerlink" title="Verify and Monitor Your Application"></a>Verify and Monitor Your Application</h2><h3 id="Check-PM2-Status"><a href="#Check-PM2-Status" class="headerlink" title="Check PM2 Status"></a>Check PM2 Status</h3><p>Verify that your application is running properly with:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pm2 status</span><br></pre></td></tr></table></figure>
<h3 id="Check-PM2-Logs"><a href="#Check-PM2-Logs" class="headerlink" title="Check PM2 Logs"></a>Check PM2 Logs</h3><p>View your application’s logs:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pm2 logs</span><br></pre></td></tr></table></figure>
<h3 id="Real-Time-Monitoring"><a href="#Real-Time-Monitoring" class="headerlink" title="Real-Time Monitoring"></a>Real-Time Monitoring</h3><p>Monitor your application’s performance and logs in real-time:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pm2 monit</span><br></pre></td></tr></table></figure>
<h3 id="Other-Useful-PM2-Commands"><a href="#Other-Useful-PM2-Commands" class="headerlink" title="Other Useful PM2 Commands"></a>Other Useful PM2 Commands</h3><p>Manage your PM2 processes with these additional commands:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Delete a process by its id</span></span><br><span class="line">pm2 del &lt;<span class="built_in">id</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Delete all processes</span></span><br><span class="line">pm2 del all</span><br><span class="line"></span><br><span class="line"><span class="comment"># Start a specific process by name</span></span><br><span class="line">pm2 start &lt;name&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Stop a specific process by name</span></span><br><span class="line">pm2 stop &lt;name&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Configure PM2 to start on system startup</span></span><br><span class="line">pm2 startup</span><br><span class="line"></span><br><span class="line"><span class="comment"># Save the process list to be loaded on startup</span></span><br><span class="line">pm2 save</span><br></pre></td></tr></table></figure>
<p>For more detailed information on PM2 features and usage, visit the <a href="https://pm2.io/docs/plus/overview/">PM2 Documentation</a>.</p>
]]></content>
      <tags>
        <tag>nodeJS</tag>
        <tag>development</tag>
      </tags>
  </entry>
  <entry>
    <title>ESXi SMART Script to Check All Disk Health</title>
    <url>/2024/07/17/ESXi-SMART-Script/</url>
    <content><![CDATA[<p>In managing an ESXi server, ensuring all disks are healthy and functional is crucial to maintaining overall system reliability and performance. A failed disk can lead to data loss or even system downtime. Thus, proactively monitoring disk health using SMART (Self-Monitoring, Analysis, and Reporting Technology) data is a smart practice. This blog post walks you through a shell script designed to check the health of all disks on your ESXi server.</p>
<h2 id="Introduction-to-the-Script"><a href="#Introduction-to-the-Script" class="headerlink" title="Introduction to the Script"></a>Introduction to the Script</h2><p>The script leverages <code>esxcli</code> commands to fetch SMART data for each disk and formats the output in a readable table, logging it along with a timestamp. Key information such as health status, drive temperature, power-on hours, power cycle count, and reallocated sector count is extracted and displayed, helping you quickly identify potential issues.</p>
<h2 id="Prerequisites"><a href="#Prerequisites" class="headerlink" title="Prerequisites"></a>Prerequisites</h2><ul>
<li>A working ESXi server</li>
<li>SSH access enabled on the ESXi server</li>
<li>Basic familiarity with shell scripts</li>
</ul>
<h2 id="The-Script"><a href="#The-Script" class="headerlink" title="The Script"></a>The Script</h2><p>Here is the complete shell script for checking disk health using SMART data on ESXi, Place it in your ESXi, and <code>chmod +x smart.sh</code> so you can execute the script.</p>
<p><code>smart.sh</code>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Get the list of all device UIDs</span></span><br><span class="line">device_list=$(esxcli storage core device list | grep -E <span class="string">&#x27;^t10.|^eui.&#x27;</span> | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Timestamp for log</span></span><br><span class="line">timestamp=$(<span class="built_in">date</span> <span class="string">&#x27;+%Y-%m-%d %H:%M:%S&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Header for the output</span></span><br><span class="line">header=<span class="string">&quot;Drive                                   | Health Status | Drive Temperature | Power-on Hours | Power Cycle Count | Reallocated Sector Count&quot;</span></span><br><span class="line">separator=<span class="string">&quot;---------------------------------------------------------------------------------------------------------------------------------------------&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$header</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$separator</span>&quot;</span></span><br><span class="line"><span class="comment"># Begin logging output with timestamp</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;Timestamp: <span class="variable">$timestamp</span>&quot;</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$header</span>&quot;</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$separator</span>&quot;</span></span><br><span class="line">&#125; &gt;&gt; smart.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># Function to process device name</span></span><br><span class="line"><span class="function"><span class="title">process_device_name</span></span>() &#123;</span><br><span class="line">    <span class="built_in">local</span> device_name=<span class="variable">$1</span></span><br><span class="line">    <span class="comment"># Replace multiple underscores with a single period</span></span><br><span class="line">    device_name=$(<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$device_name</span>&quot;</span> | sed <span class="string">&#x27;s/_\+/\./g&#x27;</span>)</span><br><span class="line">    <span class="comment"># Truncate to a maximum of 40 characters</span></span><br><span class="line">    device_name=$(<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$device_name</span>&quot;</span> | <span class="built_in">cut</span> -c 1-40)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$device_name</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Iterate through each device UID and fetch its SMART data</span></span><br><span class="line"><span class="keyword">for</span> device <span class="keyword">in</span> <span class="variable">$device_list</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="comment"># Process the device name</span></span><br><span class="line">    processed_device_name=$(process_device_name <span class="string">&quot;<span class="variable">$device</span>&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Get the SMART data</span></span><br><span class="line">    output=$(esxcli storage core device smart get -d <span class="variable">$device</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Format the output</span></span><br><span class="line">    formatted_output=$(<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$output</span>&quot;</span> | awk -v device=<span class="string">&quot;<span class="variable">$processed_device_name</span>&quot;</span> <span class="string">&#x27;</span></span><br><span class="line"><span class="string">    BEGIN &#123;</span></span><br><span class="line"><span class="string">        # Initialize default values</span></span><br><span class="line"><span class="string">        status[&quot;Health Status&quot;] = &quot;N/A&quot;</span></span><br><span class="line"><span class="string">        status[&quot;Power-on Hours&quot;] = &quot;N/A&quot;</span></span><br><span class="line"><span class="string">        status[&quot;Drive Temperature&quot;] = &quot;N/A/N/A&quot;</span></span><br><span class="line"><span class="string">        status[&quot;Power Cycle Count&quot;] = &quot;N/A&quot;</span></span><br><span class="line"><span class="string">        status[&quot;Reallocated Sector Count&quot;] = &quot;N/A/N/A&quot;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    # Capture specific parameters and thresholds</span></span><br><span class="line"><span class="string">    /Health Status/ &#123;status[&quot;Health Status&quot;] = $3 ? $3 : &quot;N/A&quot;&#125;</span></span><br><span class="line"><span class="string">    /Power-on Hours/ &#123;status[&quot;Power-on Hours&quot;] = $3 ? $3 : &quot;N/A&quot;&#125;</span></span><br><span class="line"><span class="string">    /Drive Temperature/ &#123;</span></span><br><span class="line"><span class="string">        value = $3 ? $3 : &quot;-&quot;</span></span><br><span class="line"><span class="string">        threshold = $4 ? $4 : &quot;-&quot;</span></span><br><span class="line"><span class="string">        status[&quot;Drive Temperature&quot;] = value &quot;/&quot; threshold</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    /Power Cycle Count/ &#123;status[&quot;Power Cycle Count&quot;] = $4 ? $4 : &quot;N/A&quot;&#125;</span></span><br><span class="line"><span class="string">    /Reallocated Sector Count/ &#123;</span></span><br><span class="line"><span class="string">        value = $4 ? $4 : &quot;0&quot;</span></span><br><span class="line"><span class="string">        threshold = $5 ? $5 : &quot;-&quot;</span></span><br><span class="line"><span class="string">        status[&quot;Reallocated Sector Count&quot;] = value &quot;/&quot; threshold</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    END &#123;</span></span><br><span class="line"><span class="string">        # Print the results with formatted and truncated drive name (40 characters max)</span></span><br><span class="line"><span class="string">        printf &quot;%-41s %-15s %-19s %-16s %-19s %-36s\n&quot;,</span></span><br><span class="line"><span class="string">        device,</span></span><br><span class="line"><span class="string">        status[&quot;Health Status&quot;],</span></span><br><span class="line"><span class="string">        status[&quot;Drive Temperature&quot;],</span></span><br><span class="line"><span class="string">        status[&quot;Power-on Hours&quot;],</span></span><br><span class="line"><span class="string">        status[&quot;Power Cycle Count&quot;],</span></span><br><span class="line"><span class="string">        status[&quot;Reallocated Sector Count&quot;]</span></span><br><span class="line"><span class="string">    &#125;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Append formatted output to the log file</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$formatted_output</span>&quot;</span> &gt;&gt; smart.log</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$formatted_output</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Print an empty line for readability in the log</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;&quot;</span> &gt;&gt; smart.log</span><br></pre></td></tr></table></figure>

<h2 id="Dive-Deeper-Customizing-the-Script"><a href="#Dive-Deeper-Customizing-the-Script" class="headerlink" title="Dive Deeper: Customizing the Script"></a>Dive Deeper: Customizing the Script</h2><p>The script provided is designed to give you a comprehensive overview of your disks’ health status. However, you may want to tailor it further to suit your specific requirements. Here are some additional customizations you can consider:</p>
]]></content>
      <tags>
        <tag>ESXi</tag>
        <tag>Server Management</tag>
        <tag>Disk Health</tag>
        <tag>SMART</tag>
      </tags>
  </entry>
</search>
